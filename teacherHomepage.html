<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Home</title>
    <link rel="stylesheet" href="css/shared.css">
    <link rel="icon" href="images/new_main_logo.png" type="image/png">
    <link rel="stylesheet" href="css/teacherHomepage.css">
    <!-- Reuse registration styles for class creation wizard -->
    <link rel="stylesheet" href="css/registration.css?v=1.0.0">
</head>
<body>

    <button class="navbar-logo" type="button" aria-label="Home" onclick="handleLogoClick()">
        <img src="images/new_main_logo.png" alt="Home">
    </button>

    <main class="main-container" id="mainContainer">

        <!-- Search Students Overlay -->
         <div class="overlay" id="searchStudentsOverlay">
            <div class="overlay-content" id="searchOverlayContent">

                <div class="overlay-content-top-section" id="overlayContentTopSection">
                    <h2 id="overlayTitle">Students</h2>
                    <div class="top-section-search-filters">

                        <!-- Filter by level -->
                         <select class="filter-select" id="filterLevel" name="filterLevel" aria-label="Level" required aria-required="true">
                            <option value="" selected> Any </option>
                            <option value="bachelor">Bachelor</option>
                            <option value="master">Master</option>
                            <option value="phd">PhD</option>
                        </select>

                        <!-- Filter by faculty -->
                        <select class="filter-select" id="filterFaculty" name="filterFaculty" aria-label="Faculty" required aria-required="true">
                            <option value="" selected disabled> Faculty </option>
                            
                            <option value="Economics">Economics</option>
                        </select>

                        <!-- Filter by specialization -->
                         <select class="filter-select" id="filterSpecialization" name="filterSpecialization" aria-label="Specialization" required aria-required="true">
                            <option value="" selected disabled> Specialization </option>
                            <!-- dynamically populate -->
                        </select>

                        <!-- Filter by group -->
                         <select class="filter-select" id="filterGroup" name="filterGroup" aria-label="Group" required aria-required="true">
                            <option value="" selected disabled> Group </option>
                            <option value="37" >37</option>
                            <option value="38" >38</option>
                            <option value="39" >39</option>
                            <option value="40" >40</option>
                            <option value="41" >41</option>
                            <option value="42" >42</option>
                        </select>

                    </div>

                    <div class="top-section-search-bar-reset-filters">
                        <input type="text" id="overlaySearchInput" placeholder="Search..." aria-label="Search students" />
                        <button id="resetFiltersBtn" class="reset-filters-button" type="button">Reset</button>
                    </div>
                    
                </div>

                <div class="overlay-content-main-section" id="overlayContentMainSection">
                    <div id="overlayMainSectionBody">
                        <div id="addStudentsList"></div>
                    </div>
                </div>

                <div class="overlay-content-bottom-section" id="overlayContentBottomSection">
                    <button id="addStudentsOverlayBtn" class="role-button" type="button">Add Students</button>
                    <button id="closeOverlayBtn" class="role-button" type="button">Close</button>
                </div>

            </div>
        </div>



        <!-- Attendance History Overlay -->
         <div class="overlay" id="attendanceHistoryOverlay">
            <div class="attendance-history-popup" role="dialog" aria-modal="true" aria-labelledby="attendanceHistoryTitle">
                <div class="overlay-top-bar">
                    <h2 id="attendanceHistoryTitle">Attendance History</h2>
                    <button type="button" id="closeAttendanceHistoryBtn" class="close-small" aria-label="Close">×</button>
                </div>
                <div id="attendanceHistoryList" class="attendance-history-list"></div>
                <div class="manage-footer-actions">
                    <button type="button" id="attendanceHistoryBackBtn" class="role-button">Back</button>
                </div>
            </div>
         </div>



        <!-- Create Class Overlay -->
         <div class="overlay" id="createClassOverlay">
            <div class="card" role="dialog" aria-modal="true" aria-labelledby="classWizardTitle">
                <div class="card-header">
                    <div class="overlay-top-bar">
                        <h1 id="classWizardTitle" class="title">Create Class</h1>
                        <button type="button" id="createClassCloseBtn" class="close-small" aria-label="Close">×</button>
                    </div>
                </div>

                <div class="slider">
                    <div class="slides-track" id="createClassSlidesTrack">

                        <section class="slide" data-index="0" aria-label="Class Name">
                            <div class="field">
                                <label for="createClassNameInput">Name</label>
                                <input id="createClassNameInput" type="text" required />
                            </div>
                            <div id="createClassErrorName" class="error" role="alert" aria-live="polite"></div>
                        </section>

                        <section class="slide" data-index="1" aria-label="Select Students">
                            <div class="top-section-search-filters">
                                <!-- Filter by level -->
                                <select class="filter-select" id="createClassFilterLevel" name="filterLevel" aria-label="Level" required aria-required="true">
                                    <option value="" selected> Any </option>
                                    <option value="bachelor">Bachelor</option>
                                    <option value="master">Master</option>
                                    <option value="phd">PhD</option>
                                </select>

                                <!-- Filter by faculty -->
                                <select class="filter-select" id="createClassFilterFaculty" name="filterFaculty" aria-label="Faculty" required aria-required="true">
                                    <option value="" selected> Any </option>
                                    <option value="Economics">Economics</option>
                                </select>

                                <!-- Filter by specialization -->
                                <select class="filter-select" id="createClassFilterSpecialization" name="filterSpecialization" aria-label="Specialization" required aria-required="true">
                                    <option value="" selected> Any </option>
                            <option value="Business Management">Business Management</option>
                            <option value="Business Management 1">Business Management 1</option>
                            <option value="Business Management 2">Business Management 2</option>
                            <option value="Business Management in English">Business Management in English</option>
                            <option value="Electricity Management">Electricity Management</option>
                            <option value="Industrial Management">Industrial Management</option>
                            <option value="Industrial Management in English">Industrial Management in English</option>
                            <option value="Intellectual Property and Innovation">Intellectual Property and Innovation</option>
                            <option value="Management and Business Information Systems">Management and Business Information Systems</option>
                            <option value="Senior Management">Senior Management</option>
                                </select>

                                <!-- Filter by group -->
                                <select class="filter-select" id="createClassFilterGroup" name="filterGroup" aria-label="Group" required aria-required="true">
                                    <option value="" selected> Any </option>
                                    <option value="37" >37</option>
                                    <option value="38" >38</option>
                                    <option value="39" >39</option>
                                    <option value="40" >40</option>
                                    <option value="41" >41</option>
                                    <option value="42" >42</option>
                                </select>
                            </div>

                            <div class="top-section-search-bar-reset-filters">
                                <input id="createClassSearchInput" type="text" placeholder="Search students..." aria-label="Search students" />
                                <button id="createClassResetFiltersBtn" class="reset-filters-button" type="button">Reset</button>
                            </div>

                            <div id="createClassStudentsBody"></div>
                            
                            <div id="createClassNoStudentsMsg" class="error error-hidden" aria-live="polite"></div>
                        
                        </section>
                    </div>
                </div>

                <div class="actions" id="createClassActions">
                    <button type="button" id="createClassBackBtn" class="btn btn-secondary" disabled>Back</button>
                    
                    <div class="actions-right">
                        <button type="button" id="createClassNextBtn" class="btn btn-primary">Continue</button>
                        <button type="button" id="createClassFinishBtn" class="btn btn-primary finish-hidden">Finish</button>
                    
                    </div>
                </div>

            </div>
        </div>



        <!-- Manage Students Overlay -->
        <div class="overlay" id="manageStudentsOverlay">
            <div class="ready-class-popup" role="dialog" aria-modal="true" aria-labelledby="manageStudentsTitle">
                <div class="overlay-top-bar">
                    <h2 id="manageStudentsTitle">Students</h2>
                    <button type="button" id="closeManageOverlayBtn" class="close-small" aria-label="Close">×</button>
                </div>
                <div id="manageStudentsList" class="manage-students-list"></div>
                <div class="manage-footer-actions">
                    <button type="button" id="backToReadyBtn" class="role-button">Back</button>
                    <button type="button" id="addStudentManageBtn" class="role-button" aria-label="Add Students">Add Students</button>
                </div>
            </div>
        </div>



        <!-- Add Students Overlay -->
        <div class="overlay" id="addStudentsClassOverlay">
            <div class="ready-class-popup add-students-popup" role="dialog" aria-modal="true" aria-labelledby="addStudentsTitle">
                <div class="overlay-top-bar">
                    <h2 id="addStudentsTitle">Add Students</h2>
                    <button type="button" id="closeAddStudentsClassBtn" class="close-small" aria-label="Close">×</button>
                </div>
                <div class="add-students-body">

                    <div class="top-section-search-filters">
                        <!-- Filter by level -->
                        <select class="filter-select" id="addStudentsFilterLevel" name="filterLevel" aria-label="Level" required aria-required="true">
                            <option value="" selected> Any </option>
                            <option value="bachelor">Bachelor</option>
                            <option value="master">Master</option>
                            <option value="phd">PhD</option>
                        </select>

                        <!-- Filter by faculty -->
                        <select class="filter-select" id="addStudentsFilterFaculty" name="filterFaculty" aria-label="Faculty" required aria-required="true">
                            <option value="" selected> Any </option>
                            <option value="Economics">Economics</option>
                        </select>

                        <!-- Filter by specialization -->
                        <select class="filter-select" id="addStudentsFilterSpecialization" name="filterSpecialization" aria-label="Specialization" required aria-required="true">
                            <option value="" selected> Any </option>
                            <option value="Business Management">Business Management</option>
                            <option value="Business Management 1">Business Management 1</option>
                            <option value="Business Management 2">Business Management 2</option>
                            <option value="Business Management in English">Business Management in English</option>
                            <option value="Electricity Management">Electricity Management</option>
                            <option value="Industrial Management">Industrial Management</option>
                            <option value="Industrial Management in English">Industrial Management in English</option>
                            <option value="Intellectual Property and Innovation">Intellectual Property and Innovation</option>
                            <option value="Management and Business Information Systems">Management and Business Information Systems</option>
                            <option value="Senior Management">Senior Management</option>
                        </select>

                        <!-- Filter by group -->
                        <select class="filter-select" id="addStudentsFilterGroup" name="filterGroup" aria-label="Group" required aria-required="true">
                            <option value="" selected> Any </option>
                            <option value="37" >37</option>
                            <option value="38" >38</option>
                            <option value="39" >39</option>
                            <option value="40" >40</option>
                            <option value="41" >41</option>
                            <option value="42" >42</option>
                        </select>
                    </div>

                    <div class="top-section-search-bar-reset-filters">
                        <input type="text" id="addStudentsSearchInput" placeholder="Search..." />
                        <button id="addStudentsResetFiltersBtn" class="reset-filters-button" type="button">Reset</button>
                    </div>

                    <div id="addStudentsList" class="add-students-list"></div>

                </div>
                <div class="add-students-footer">
                    <button type="button" id="addStudentsOverlayBtn" class="role-button primary" aria-label="Add Selected">Add</button>
                </div>
            </div>
        </div>



        <!-- Ready Class Overlay -->
        <div class="overlay" id="readyClassPopupOverlay">
            <div class="ready-class-popup" role="dialog" aria-modal="true" aria-labelledby="readyClassTitle">
                <div class="overlay-top-bar">
                    <h2 id="readyClassTitle">Class Ready</h2>
                    <button type="button" id="closeReadyPopupBtn" class="close-small" aria-label="Close">×</button>
                </div>
                <div class="ready-class-actions">
                    <button type="button" id="manageStudentsBtn" class="role-button primary">Manage Students</button>
                    <button type="button" id="startScannerBtn" class="role-button secondary-green">Start Scanner</button>
                    <button type="button" id="downloadAttendanceTableBtn" class="role-button primary" aria-label="Download Attendance Table">Download Attendance Table</button>
                    <button type="button" id="classOptionsBtn" class="role-button primary" aria-label="Class Options">Options</button>
                </div>
            </div>
        </div>



        <!-- Scanner Overlay (Start Scanning) -->
        <div class="overlay" id="scannerOverlay">
            <div class="ready-class-popup" role="dialog" aria-modal="true" aria-labelledby="scannerTitle">
                <div class="overlay-top-bar">
                    <h2 id="scannerTitle">Start Scanning</h2>
                    <button type="button" id="closeScannerBtn" class="close-small" aria-label="Close">×</button>
                </div>
                <div id="scannerModeGroup" class="mode-toggle-group" role="radiogroup" aria-label="Scan mode">
                    <label class="mode-toggle" for="scanJoin">
                        <input type="radio" name="scanMode" value="joining" id="scanJoin" checked>
                        <span class="mode-label">Joining</span>
                    </label>
                    <label class="mode-toggle" for="scanLeave">
                        <input type="radio" name="scanMode" value="leaving" id="scanLeave">
                        <span class="mode-label">Leaving</span>
                    </label>
                </div>
                <div id="cameraContainer" class="camera-container">
                    <div id="qr-reader"></div>
                </div>
                <div class="scanner-footer-actions">
                    <button type="button" id="scannerStopBtn" class="role-button primary">Show Attendance</button>
                    <button type="button" id="scannerCloseBtn" class="role-button">Close</button>
                </div>
            </div>
        </div>



        <!-- Attendance Overlay -->
        <div class="overlay" id="attendanceOverlay">
            <div class="ready-class-popup attendance-popup" role="dialog" aria-modal="true" aria-labelledby="attendanceTitle">
                <h2 id="attendanceTitle">Attendance</h2>
                <div id="attendanceList" class="attendance-list"></div>
                <div class="manage-footer-actions">
                    <button type="button" id="attendanceCloseBtn" class="role-button">Close</button>
                </div>
            </div>
        </div>



        <!-- Not-Ready Class Overlay -->
        <div class="overlay" id="notReadyClassOverlay">
            <div class="overlay-content" id="overlayContent">

                

            </div>
        </div>



        <section id="classesSection" aria-labelledby="classesTitle">
            <h1 id="classesTitle">Classes</h1>
            <ul id="classList" class="classes-list">
                <li>
                    <button id="addClassBtn" type="button" class="add-class-btn" aria-label="New Class">New Class</button>
                </li>
            </ul>
        </section>

    </main>



    <script src="javascript/shared.js"></script>
    <script src="javascript/utils.js"></script>
    <script src="javascript/students.js"></script>
    <script type="module" src="javascript/teacherHomepage.js"></script>
</body>
</html>

